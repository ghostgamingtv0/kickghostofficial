<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KICKGHOST - Auto Airdrop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://dist.thirdwebcache.com/browser/v4/thirdweb.js"></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;900&display=swap');
        body { background-color: #000; color: #fff; font-family: 'Cairo', sans-serif; text-align: center; }
        .ghost-glow { filter: drop-shadow(0 0 20px #53fc18); border: 4px solid #53fc18; width: 120px; border-radius: 50%; margin: 20px auto; }
        .btn-main { background: #53fc18; color: #000; font-weight: 900; width: 100%; max-width: 350px; padding: 15px; border-radius: 12px; cursor: pointer; margin: 5px; }
        .instruction-card { border: 2px solid #53fc18; background: #111; max-width: 800px; margin: 20px auto; border-radius: 20px; padding: 20px; }
        .wallet-btn { background: #fff; color: #000; font-weight: 900; width: 120px; padding: 10px; border-radius: 10px; cursor: pointer; font-size: 0.8rem; }
    </style>
</head>
<body class="p-4">

    <img src="https://i.postimg.cc/QxwZ3rtb/fe17c807e4ae7e98a858b5142f8b982e.jpg" class="ghost-glow">
    <h1 class="text-4xl font-black italic uppercase mb-6">KICK<span class="text-green-500">GHOST</span></h1>

    <!-- Step 1: Kick Login -->
    <div class="mb-8">
        <button id="kick-btn" class="btn-main uppercase text-lg">Step 1: Login with Kick ğŸ¥</button>
        <p class="text-green-500 text-sm font-bold">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± ÙƒÙŠÙƒ</p>
    </div>

    <!-- Step 2: Wallet Connect -->
    <div class="mb-8">
        <h3 class="font-bold mb-4 uppercase">Step 2: Connect Wallet / Ø±Ø¨Ø· Ø§Ù„Ù…Ø­ÙØ¸Ø©</h3>
        <div class="flex flex-wrap justify-center gap-2">
            <button onclick="connectWallet('MetaMask')" class="wallet-btn">MetaMask</button>
            <button onclick="connectWallet('WalletConnect')" class="wallet-btn">TrustWallet</button>
            <button onclick="connectWallet('CoinbaseWallet')" class="wallet-btn">Coinbase</button>
        </div>
        <p id="wallet-msg" class="mt-4 text-xs font-bold uppercase"></p>
    </div>

    <!-- Step 3: Claim 1000 Tokens -->
    <div class="mb-10 p-6 border-2 border-dashed border-green-500 rounded-3xl max-w-sm mx-auto">
        <button id="claim-btn" class="bg-green-500 text-black w-full py-4 rounded-xl font-black text-xl hover:bg-white transition">CLAIM 1000 $KICKGHOST ğŸš€</button>
        <p class="mt-2 text-xs text-gray-400">Get your tokens automatically / Ø§Ø³ØªÙ„Ù… 1000 Ø¹Ù…Ù„Ø© Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒÙŠØ§Ù‹</p>
        <p id="airdrop-msg" class="mt-2 font-bold text-sm"></p>
    </div>

    <!-- Instruction Card -->
    <div class="instruction-card">
        <h2 class="text-green-500 font-bold mb-4 uppercase">How to add Token / ÙƒÙŠÙÙŠØ© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„Ø©</h2>
        <p class="text-xs text-gray-400 mb-2">Polygon Network - 0x539A66654cf4e71cB7207ac6B3A56B789FBcbFce</p>
        <iframe width="100%" height="400" src="https://dexscreener.com/polygon/0x539A66654cf4e71cB7207ac6B3A56B789FBcbFce?embed=1&theme=dark" frameborder="0"></iframe>
    </div>

    <script>
        const CLIENT_ID = "1674c0a32bd6f7ffdcea4222adf74d6e";
        const TOKEN_CONTRACT = "0x539A66654cf4e71cB7207ac6B3A56B789FBcbFce";
        let connectedAddress = "";
        let sdk;

        // Step 1: Kick Login
        document.getElementById("kick-btn").onclick = () => {
            const kID = "01KDYM8ZRHB8W24HFJ8YEQ1Q55";
            const red = "https://ghostgamingtv0.github.io/kickghostofficial/";
            window.location.href = `https://kick.com/oauth/authorize?client_id=${kID}&redirect_uri=${encodeURIComponent(red)}&response_type=code&scope=user:read%20channel:read%20chat:write`;
        };

        // Step 2: Connect Wallet
        async function connectWallet(type){
            const m = document.getElementById("wallet-msg");
            m.innerText="CONNECTING... / Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„";
            try {
                sdk = new window.Thirdweb.ThirdwebSDK("polygon", { clientId: CLIENT_ID });
                let wallet;
                if(type==='MetaMask') wallet = new window.Thirdweb.MetaMaskWallet();
                else if(type==='WalletConnect') wallet = new window.Thirdweb.WalletConnectWallet();
                else wallet = new window.Thirdweb.CoinbaseWallet();

                await wallet.connect();
                connectedAddress = await wallet.getAddress();
                m.innerText="CONNECTED: " + connectedAddress.substring(0,10);
                m.className="mt-4 text-green-400 font-bold uppercase";
            } catch(e){
                m.innerText="âŒ ERROR: " + e.message;
                m.className="mt-4 text-red-500 font-bold text-[10px]";
            }
        }

        // Step 3: Claim 1000 Tokens via Backend
        document.getElementById("claim-btn").onclick = async () => {
            const msg = document.getElementById("airdrop-msg");
            if(!connectedAddress){
                msg.innerText="Connect wallet first! / Ø§Ø±Ø¨Ø· Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø£ÙˆÙ„Ø§Ù‹";
                msg.style.color="red";
                return;
            }

            msg.innerText="Processing Claim 1000 Tokens... / Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ 1000 Ø¹Ù…Ù„Ø©...";
            msg.style.color="yellow";

            try {
                const res = await fetch("https://YOUR_BACKEND_URL/api/claim", {
                    method:"POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ walletAddress: connectedAddress, amount: 1000 })
                });
                const data = await res.json();
                if(data.success){
                    msg.innerText="âœ… Success! 1000 Tokens sent. TxHash: "+data.txHash+" / ØªÙ… Ø¥Ø±Ø³Ø§Ù„ 1000 Ø¹Ù…Ù„Ø©";
                    msg.style.color="#53fc18";
                } else {
                    throw new Error(data.error);
                }
            } catch(e){
                msg.innerText="âŒ Failed: "+e.message+" / ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©";
                msg.style.color="red";
                console.error(e);
            }
        };
    </script>
</body>
</html>

